{"ast":null,"code":"var _jsxFileName = \"/home/navgurukul/Recipe-upload/my-mern-app/client/src/components/PublicFeed.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport './recipeList.css';\nimport carbonara from '../assets/carbonara.jpg';\nimport salmon from '../assets/salmon.jpg';\nimport api from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst publicRecipes = [{\n  id: '1',\n  title: 'Creamy Pasta Carbonara',\n  description: 'Spaghetti, pancetta, eggs, parmesan cheese, black pepper, garlic, olive oil.',\n  image: carbonara,\n  calories: 520,\n  date: '8/30/2025'\n}, {\n  id: '2',\n  title: 'Herb-Crusted Grilled Salmon',\n  description: 'Salmon fillets, lemon, dill, parsley, garlic, olive oil, salt, pepper, asparagus.',\n  image: salmon,\n  calories: 380,\n  date: '8/30/2025'\n}];\nexport default function PublicFeed() {\n  _s();\n  const [saved, setSaved] = useState({});\n  const [loading, setLoading] = useState({});\n  const toggleSave = async recipe => {\n    const id = recipe.id;\n    if (!localStorage.getItem('token')) {\n      return alert('Please sign in to save recipes');\n    }\n    setLoading(l => ({\n      ...l,\n      [id]: true\n    }));\n    try {\n      const res = await api.post(`/recipes/${id}/favorite`);\n      setSaved(s => ({\n        ...s,\n        [id]: res.data.favorite\n      }));\n    } catch (err) {\n      console.error(err);\n      alert('Failed to toggle favorite');\n    } finally {\n      setLoading(l => ({\n        ...l,\n        [id]: false\n      }));\n    }\n  };\n  const handleShare = async recipe => {\n    const url = `${window.location.origin}/recipe/${recipe.id}`;\n    if (navigator.share) {\n      try {\n        await navigator.share({\n          title: recipe.title,\n          text: recipe.description,\n          url\n        });\n      } catch (err) {\n        /* user cancelled */\n      }\n      return;\n    }\n    if (navigator.clipboard && navigator.clipboard.writeText) {\n      try {\n        await navigator.clipboard.writeText(url);\n        alert('Recipe link copied to clipboard');\n        return;\n      } catch (err) {\n        console.error(err);\n      }\n    }\n\n    // fallback: prompt\n    window.prompt('Copy this link to share:', url);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: 24\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      style: {\n        margin: '12px 0 18px',\n        color: '#0f172a'\n      },\n      children: \"Public Feed\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"rl-grid\",\n      children: publicRecipes.map(r => /*#__PURE__*/_jsxDEV(\"article\", {\n        className: \"rl-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"rl-image\",\n          style: {\n            backgroundImage: `url(${r.image})`\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rl-cal\",\n            children: [r.calories, \" cal\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"rl-body\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"rl-title\",\n            children: r.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"rl-desc\",\n            children: r.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"rl-footer\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"rl-date\",\n            children: r.date\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rl-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"icon-btn\",\n              title: \"Share\",\n              onClick: () => handleShare(r),\n              children: \"Share\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"icon-btn\",\n              title: saved[r.id] ? 'Remove from favorites' : 'Save',\n              onClick: () => toggleSave(r),\n              disabled: loading[r.id],\n              children: loading[r.id] ? '...' : saved[r.id] ? 'Saved' : 'Save'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 13\n        }, this)]\n      }, r.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 5\n  }, this);\n}\n_s(PublicFeed, \"jTnT5kViXEaPY5WpS0Yb3v3vRt8=\");\n_c = PublicFeed;\nvar _c;\n$RefreshReg$(_c, \"PublicFeed\");","map":{"version":3,"names":["React","useState","carbonara","salmon","api","jsxDEV","_jsxDEV","publicRecipes","id","title","description","image","calories","date","PublicFeed","_s","saved","setSaved","loading","setLoading","toggleSave","recipe","localStorage","getItem","alert","l","res","post","s","data","favorite","err","console","error","handleShare","url","window","location","origin","navigator","share","text","clipboard","writeText","prompt","style","padding","children","margin","color","fileName","_jsxFileName","lineNumber","columnNumber","className","map","r","backgroundImage","onClick","disabled","_c","$RefreshReg$"],"sources":["/home/navgurukul/Recipe-upload/my-mern-app/client/src/components/PublicFeed.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport './recipeList.css';\nimport carbonara from '../assets/carbonara.jpg';\nimport salmon from '../assets/salmon.jpg';\nimport api from '../services/api';\n\nconst publicRecipes = [\n  {\n    id: '1',\n    title: 'Creamy Pasta Carbonara',\n    description: 'Spaghetti, pancetta, eggs, parmesan cheese, black pepper, garlic, olive oil.',\n    image: carbonara,\n    calories: 520,\n    date: '8/30/2025'\n  },\n  {\n    id: '2',\n    title: 'Herb-Crusted Grilled Salmon',\n    description: 'Salmon fillets, lemon, dill, parsley, garlic, olive oil, salt, pepper, asparagus.',\n    image: salmon,\n    calories: 380,\n    date: '8/30/2025'\n  }\n];\n\nexport default function PublicFeed() {\n  const [saved, setSaved] = useState({});\n  const [loading, setLoading] = useState({});\n\n  const toggleSave = async (recipe) => {\n    const id = recipe.id;\n    if (!localStorage.getItem('token')) {\n      return alert('Please sign in to save recipes');\n    }\n    setLoading(l => ({ ...l, [id]: true }));\n    try {\n      const res = await api.post(`/recipes/${id}/favorite`);\n      setSaved(s => ({ ...s, [id]: res.data.favorite }));\n    } catch (err) {\n      console.error(err);\n      alert('Failed to toggle favorite');\n    } finally {\n      setLoading(l => ({ ...l, [id]: false }));\n    }\n  };\n\n  const handleShare = async (recipe) => {\n    const url = `${window.location.origin}/recipe/${recipe.id}`;\n    if (navigator.share) {\n      try {\n        await navigator.share({ title: recipe.title, text: recipe.description, url });\n      } catch (err) {\n        /* user cancelled */\n      }\n      return;\n    }\n\n    if (navigator.clipboard && navigator.clipboard.writeText) {\n      try {\n        await navigator.clipboard.writeText(url);\n        alert('Recipe link copied to clipboard');\n        return;\n      } catch (err) {\n        console.error(err);\n      }\n    }\n\n    // fallback: prompt\n    window.prompt('Copy this link to share:', url);\n  };\n\n  return (\n    <div style={{ padding: 24 }}>\n      <h2 style={{ margin: '12px 0 18px', color: '#0f172a' }}>Public Feed</h2>\n      <div className=\"rl-grid\">\n        {publicRecipes.map(r => (\n          <article key={r.id} className=\"rl-card\">\n            <div className=\"rl-image\" style={{ backgroundImage: `url(${r.image})` }}>\n              <div className=\"rl-cal\">{r.calories} cal</div>\n            </div>\n\n            <div className=\"rl-body\">\n              <h3 className=\"rl-title\">{r.title}</h3>\n              <p className=\"rl-desc\">{r.description}</p>\n            </div>\n\n            <div className=\"rl-footer\">\n              <span className=\"rl-date\">{r.date}</span>\n\n              <div className=\"rl-actions\">\n                <button className=\"icon-btn\" title=\"Share\" onClick={() => handleShare(r)}>\n                  Share\n                </button>\n\n                <button\n                  className=\"icon-btn\"\n                  title={saved[r.id] ? 'Remove from favorites' : 'Save'}\n                  onClick={() => toggleSave(r)}\n                  disabled={loading[r.id]}\n                >\n                  {loading[r.id] ? '...' : (saved[r.id] ? 'Saved' : 'Save')}\n                </button>\n              </div>\n            </div>\n          </article>\n        ))}\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}