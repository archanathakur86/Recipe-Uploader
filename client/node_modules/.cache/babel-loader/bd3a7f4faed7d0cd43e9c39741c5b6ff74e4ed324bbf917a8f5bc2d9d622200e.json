{"ast":null,"code":"import React from'react';import{Link}from'react-router-dom';import api from'../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function RecipeCard(_ref){var _process$env$REACT_AP;let{recipe,onChange}=_ref;const toggleFav=async()=>{try{await api.post(\"/recipes/\".concat(recipe._id,\"/favorite\"));onChange();}catch(err){console.error(err);}};const base=((_process$env$REACT_AP=process.env.REACT_APP_API_URL)===null||_process$env$REACT_AP===void 0?void 0:_process$env$REACT_AP.replace('/api',''))||'http://localhost:5000';const openProfile=id=>{// dispatch a custom event so feed/listening components can open the drawer\nwindow.dispatchEvent(new CustomEvent('openProfileDrawer',{detail:{id}}));};return/*#__PURE__*/_jsxs(\"div\",{className:\"recipe-card card\",children:[recipe.imageUrl&&/*#__PURE__*/_jsx(\"img\",{src:\"\".concat(base).concat(recipe.imageUrl),alt:\"\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"meta\",children:[/*#__PURE__*/_jsx(Link,{to:\"/recipe/\".concat(recipe._id),className:\"title\",children:recipe.title}),recipe.owner&&/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:12,color:'#64748b'},children:[\"By \",/*#__PURE__*/_jsx(\"a\",{href:\"/user/\".concat(recipe.owner._id||recipe.owner),onClick:e=>{e.preventDefault();openProfile(recipe.owner._id||recipe.owner);},children:recipe.owner.name||(typeof recipe.owner==='string'?recipe.owner:'Chef')})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"cal\",children:[recipe.caloriesTotal,\" kcal\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"actions\",children:/*#__PURE__*/_jsx(\"button\",{onClick:toggleFav,children:\"\\u2665\"})})]});}","map":{"version":3,"names":["React","Link","api","jsx","_jsx","jsxs","_jsxs","RecipeCard","_ref","_process$env$REACT_AP","recipe","onChange","toggleFav","post","concat","_id","err","console","error","base","process","env","REACT_APP_API_URL","replace","openProfile","id","window","dispatchEvent","CustomEvent","detail","className","children","imageUrl","src","alt","to","title","owner","style","fontSize","color","href","onClick","e","preventDefault","name","caloriesTotal"],"sources":["/home/navgurukul/Recipe-upload/my-mern-app/client/src/components/RecipeCard.jsx"],"sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\nimport api from '../services/api';\n\nexport default function RecipeCard({ recipe, onChange }) {\n  const toggleFav = async () => {\n    try {\n      await api.post(`/recipes/${recipe._id}/favorite`);\n      onChange();\n    } catch (err) { console.error(err); }\n  };\n\n  const base = process.env.REACT_APP_API_URL?.replace('/api','') || 'http://localhost:5000';\n\n  const openProfile = (id) => {\n    // dispatch a custom event so feed/listening components can open the drawer\n    window.dispatchEvent(new CustomEvent('openProfileDrawer', { detail: { id } }));\n  };\n\n  return (\n    <div className=\"recipe-card card\">\n      {recipe.imageUrl && <img src={`${base}${recipe.imageUrl}`} alt=\"\" />}\n      <div className=\"meta\">\n        <Link to={`/recipe/${recipe._id}`} className=\"title\">{recipe.title}</Link>\n        {recipe.owner && <div style={{ fontSize:12, color:'#64748b' }}>By <a href={`/user/${recipe.owner._id || recipe.owner}`} onClick={e => { e.preventDefault(); openProfile(recipe.owner._id || recipe.owner); }}>{recipe.owner.name || (typeof recipe.owner === 'string' ? recipe.owner : 'Chef')}</a></div>}\n        <div className=\"cal\">{recipe.caloriesTotal} kcal</div>\n      </div>\n      <div className=\"actions\">\n        <button onClick={toggleFav}>â™¥</button>\n      </div>\n    </div>\n  );\n}"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,IAAI,KAAQ,kBAAkB,CACvC,MAAO,CAAAC,GAAG,KAAM,iBAAiB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAElC,cAAe,SAAS,CAAAC,UAAUA,CAAAC,IAAA,CAAuB,KAAAC,qBAAA,IAAtB,CAAEC,MAAM,CAAEC,QAAS,CAAC,CAAAH,IAAA,CACrD,KAAM,CAAAI,SAAS,CAAG,KAAAA,CAAA,GAAY,CAC5B,GAAI,CACF,KAAM,CAAAV,GAAG,CAACW,IAAI,aAAAC,MAAA,CAAaJ,MAAM,CAACK,GAAG,aAAW,CAAC,CACjDJ,QAAQ,CAAC,CAAC,CACZ,CAAE,MAAOK,GAAG,CAAE,CAAEC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC,CAAE,CACtC,CAAC,CAED,KAAM,CAAAG,IAAI,CAAG,EAAAV,qBAAA,CAAAW,OAAO,CAACC,GAAG,CAACC,iBAAiB,UAAAb,qBAAA,iBAA7BA,qBAAA,CAA+Bc,OAAO,CAAC,MAAM,CAAC,EAAE,CAAC,GAAI,uBAAuB,CAEzF,KAAM,CAAAC,WAAW,CAAIC,EAAE,EAAK,CAC1B;AACAC,MAAM,CAACC,aAAa,CAAC,GAAI,CAAAC,WAAW,CAAC,mBAAmB,CAAE,CAAEC,MAAM,CAAE,CAAEJ,EAAG,CAAE,CAAC,CAAC,CAAC,CAChF,CAAC,CAED,mBACEnB,KAAA,QAAKwB,SAAS,CAAC,kBAAkB,CAAAC,QAAA,EAC9BrB,MAAM,CAACsB,QAAQ,eAAI5B,IAAA,QAAK6B,GAAG,IAAAnB,MAAA,CAAKK,IAAI,EAAAL,MAAA,CAAGJ,MAAM,CAACsB,QAAQ,CAAG,CAACE,GAAG,CAAC,EAAE,CAAE,CAAC,cACpE5B,KAAA,QAAKwB,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnB3B,IAAA,CAACH,IAAI,EAACkC,EAAE,YAAArB,MAAA,CAAaJ,MAAM,CAACK,GAAG,CAAG,CAACe,SAAS,CAAC,OAAO,CAAAC,QAAA,CAAErB,MAAM,CAAC0B,KAAK,CAAO,CAAC,CACzE1B,MAAM,CAAC2B,KAAK,eAAI/B,KAAA,QAAKgC,KAAK,CAAE,CAAEC,QAAQ,CAAC,EAAE,CAAEC,KAAK,CAAC,SAAU,CAAE,CAAAT,QAAA,EAAC,KAAG,cAAA3B,IAAA,MAAGqC,IAAI,UAAA3B,MAAA,CAAWJ,MAAM,CAAC2B,KAAK,CAACtB,GAAG,EAAIL,MAAM,CAAC2B,KAAK,CAAG,CAACK,OAAO,CAAEC,CAAC,EAAI,CAAEA,CAAC,CAACC,cAAc,CAAC,CAAC,CAAEpB,WAAW,CAACd,MAAM,CAAC2B,KAAK,CAACtB,GAAG,EAAIL,MAAM,CAAC2B,KAAK,CAAC,CAAE,CAAE,CAAAN,QAAA,CAAErB,MAAM,CAAC2B,KAAK,CAACQ,IAAI,GAAK,MAAO,CAAAnC,MAAM,CAAC2B,KAAK,GAAK,QAAQ,CAAG3B,MAAM,CAAC2B,KAAK,CAAG,MAAM,CAAC,CAAI,CAAC,EAAK,CAAC,cACzS/B,KAAA,QAAKwB,SAAS,CAAC,KAAK,CAAAC,QAAA,EAAErB,MAAM,CAACoC,aAAa,CAAC,OAAK,EAAK,CAAC,EACnD,CAAC,cACN1C,IAAA,QAAK0B,SAAS,CAAC,SAAS,CAAAC,QAAA,cACtB3B,IAAA,WAAQsC,OAAO,CAAE9B,SAAU,CAAAmB,QAAA,CAAC,QAAC,CAAQ,CAAC,CACnC,CAAC,EACH,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}