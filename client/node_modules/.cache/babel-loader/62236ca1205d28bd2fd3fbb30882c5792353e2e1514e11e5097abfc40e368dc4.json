{"ast":null,"code":"import React from'react';import'./profileDrawer.css';import api from'../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function ProfileDrawer(_ref){let{open,onClose,profile,loading}=_ref;if(!open)return null;const handleFollow=async()=>{if(!profile||!profile.id)return;try{await api.post(\"/users/\".concat(profile.id,\"/follow\"));alert('Followed');}catch(err){console.error('follow error',err);alert('Failed to follow');}};const handleMessage=()=>{// placeholder behaviour\nalert('Messaging feature coming soon — you can message this user here later.');};return/*#__PURE__*/_jsx(\"div\",{className:\"pd-overlay\",onClick:onClose,children:/*#__PURE__*/_jsxs(\"aside\",{className:\"pd-drawer\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"header\",{className:\"pd-header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"pd-avatar-wrap\",children:/*#__PURE__*/_jsx(\"img\",{className:\"pd-avatar\",src:(profile===null||profile===void 0?void 0:profile.avatarUrl)||'/assets/avatar-placeholder.png',alt:profile===null||profile===void 0?void 0:profile.name})}),/*#__PURE__*/_jsxs(\"div\",{className:\"pd-meta\",children:[/*#__PURE__*/_jsx(\"h3\",{children:(profile===null||profile===void 0?void 0:profile.name)||'Unknown'}),/*#__PURE__*/_jsxs(\"div\",{className:\"pd-stats\",children:[((profile===null||profile===void 0?void 0:profile.recipes)||[]).length,\" public recipes\"]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"pd-close\",onClick:onClose,children:\"\\u2715\"})]}),/*#__PURE__*/_jsxs(\"main\",{className:\"pd-body\",children:[/*#__PURE__*/_jsxs(\"section\",{className:\"pd-bio\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"About\"}),/*#__PURE__*/_jsx(\"p\",{children:(profile===null||profile===void 0?void 0:profile.bio)||'This user has not added a bio yet.'})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"pd-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn-primary\",onClick:handleFollow,children:\"Follow\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-secondary\",onClick:handleMessage,children:\"Message\"})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"pd-gallery\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Public recipes\"}),/*#__PURE__*/_jsx(\"div\",{className:\"pd-grid\",children:((profile===null||profile===void 0?void 0:profile.recipes)||[]).map(r=>/*#__PURE__*/_jsxs(\"div\",{className:\"pd-card\",onClick:()=>{window.location.href=\"/recipe/\".concat(r._id);},children:[/*#__PURE__*/_jsx(\"div\",{className:\"pd-img\",style:{backgroundImage:\"url(\".concat(r.imageUrl||'/assets/placeholder.jpg',\")\")}}),/*#__PURE__*/_jsx(\"div\",{className:\"pd-title\",children:r.title})]},r._id||r.title))})]})]})]})});}","map":{"version":3,"names":["React","api","jsx","_jsx","jsxs","_jsxs","ProfileDrawer","_ref","open","onClose","profile","loading","handleFollow","id","post","concat","alert","err","console","error","handleMessage","className","onClick","children","e","stopPropagation","src","avatarUrl","alt","name","recipes","length","bio","map","r","window","location","href","_id","style","backgroundImage","imageUrl","title"],"sources":["/home/navgurukul/Recipe-upload/my-mern-app/client/src/components/ProfileDrawer.jsx"],"sourcesContent":["import React from 'react';\nimport './profileDrawer.css';\nimport api from '../services/api';\n\nexport default function ProfileDrawer({ open, onClose, profile, loading }) {\n  if (!open) return null;\n\n  const handleFollow = async () => {\n    if (!profile || !profile.id) return;\n    try {\n      await api.post(`/users/${profile.id}/follow`);\n      alert('Followed');\n    } catch (err) {\n      console.error('follow error', err);\n      alert('Failed to follow');\n    }\n  };\n\n  const handleMessage = () => {\n    // placeholder behaviour\n    alert('Messaging feature coming soon — you can message this user here later.');\n  };\n\n  return (\n    <div className=\"pd-overlay\" onClick={onClose}>\n      <aside className=\"pd-drawer\" onClick={e => e.stopPropagation()}>\n        <header className=\"pd-header\">\n          <div className=\"pd-avatar-wrap\">\n            <img className=\"pd-avatar\" src={profile?.avatarUrl || '/assets/avatar-placeholder.png'} alt={profile?.name} />\n          </div>\n          <div className=\"pd-meta\">\n            <h3>{profile?.name || 'Unknown'}</h3>\n            <div className=\"pd-stats\">{(profile?.recipes || []).length} public recipes</div>\n          </div>\n          <button className=\"pd-close\" onClick={onClose}>✕</button>\n        </header>\n\n        <main className=\"pd-body\">\n          <section className=\"pd-bio\">\n            <h4>About</h4>\n            <p>{profile?.bio || 'This user has not added a bio yet.'}</p>\n          </section>\n\n          <section className=\"pd-actions\">\n            <button className=\"btn-primary\" onClick={handleFollow}>Follow</button>\n            <button className=\"btn-secondary\" onClick={handleMessage}>Message</button>\n          </section>\n\n          <section className=\"pd-gallery\">\n            <h4>Public recipes</h4>\n            <div className=\"pd-grid\">\n              {(profile?.recipes || []).map(r => (\n                <div key={r._id || r.title} className=\"pd-card\" onClick={() => { window.location.href = `/recipe/${r._id}`; }}>\n                  <div className=\"pd-img\" style={{ backgroundImage: `url(${r.imageUrl || '/assets/placeholder.jpg'})` }} />\n                  <div className=\"pd-title\">{r.title}</div>\n                </div>\n              ))}\n            </div>\n          </section>\n        </main>\n      </aside>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}