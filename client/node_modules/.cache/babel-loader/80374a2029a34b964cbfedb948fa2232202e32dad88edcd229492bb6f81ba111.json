{"ast":null,"code":"var _jsxFileName = \"/home/navgurukul/Recipe-upload/my-mern-app/client/src/components/RecipeCard.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport estimateCalories from '../services/calorieEstimator';\nimport { Link } from 'react-router-dom';\nimport api from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction tasteFromRecipe(r = {}) {\n  const title = String(r.title || '').toLowerCase();\n  const cuisine = String(r.cuisine || '').toLowerCase();\n  const desc = String(r.description || '').toLowerCase();\n  const ings = Array.isArray(r.ingredients) ? r.ingredients.map(x => String(x).toLowerCase()) : [];\n  if (typeof r.taste === 'string' && r.taste.trim()) return r.taste.trim();\n  const hasWord = w => title.includes(w) || desc.includes(w) || ings.some(i => i.includes(w));\n  const taste = new Set();\n  const texture = new Set();\n  const method = new Set();\n\n  // Taste cues\n  if (hasWord('chilli') || hasWord('chili') || hasWord('pepper') || hasWord('garam masala') || hasWord('red chilli')) taste.add('spicy');\n  if (hasWord('tomato') || hasWord('lemon') || hasWord('lime') || hasWord('vinegar') || hasWord('tamarind') || hasWord('yogurt') || hasWord('curd')) taste.add('tangy');\n  if (hasWord('garlic')) taste.add('garlicky');\n  if (hasWord('basil') || hasWord('oregano') || hasWord('parsley') || hasWord('cilantro') || hasWord('coriander') || hasWord('mint')) taste.add('herby');\n  if (hasWord('soy sauce') || hasWord('mushroom') || hasWord('umami')) taste.add('umami-rich');\n  if (hasWord('butter') || hasWord('ghee') || hasWord('cream') || hasWord('milk') || hasWord('paneer') || hasWord('cheese')) taste.add('rich & creamy');\n  if (hasWord('honey') || hasWord('sweet') || hasWord('caramel')) taste.add('lightly sweet');\n  if (cuisine.includes('indian')) taste.add('aromatic');\n  if (cuisine.includes('italian')) taste.add('savory');\n\n  // Method cues\n  if (title.includes('stir-fry') || desc.includes('stir-fry')) method.add('stir-fried');\n  if (title.includes('grill') || desc.includes('grill')) method.add('grilled');\n  if (title.includes('roast') || desc.includes('roast')) method.add('roasted');\n  if (title.includes('bake') || desc.includes('bake')) method.add('baked');\n  if (title.includes('toast') || desc.includes('toast')) method.add('toasted');\n  if (title.includes('curry') || desc.includes('curry') || desc.includes('masala')) method.add('simmered');\n  if (title.includes('dal') || desc.includes('lentil')) method.add('slow-cooked');\n  if (title.includes('pasta') || desc.includes('pasta')) method.add('tossed');\n\n  // Texture cues\n  if (hasWord('potato') || hasWord('aloo')) texture.add('crispy edges');\n  if (hasWord('bread') || hasWord('toast')) texture.add('crisp bite');\n  if (hasWord('beans') || hasWord('capsicum') || hasWord('bell pepper')) texture.add('crispâ€‘tender veggies');\n  if (hasWord('chicken')) texture.add('juicy');\n  if (hasWord('paneer')) texture.add('soft & creamy');\n  if (hasWord('rice')) texture.add('fluffy');\n  if (hasWord('pasta') || hasWord('spaghetti')) texture.add('al dente');\n  if (method.has('simmered') || hasWord('gravy') || hasWord('sauce')) texture.add('saucy');\n\n  // Dish hints\n  if (title.includes('salad') || desc.includes('salad')) {\n    taste.add('fresh');\n    texture.add('crisp');\n  }\n  if (title.includes('pulao') || desc.includes('pulao')) {\n    taste.add('fragrant');\n    texture.add('fluffy');\n  }\n\n  // Build sentence\n  const pick = (set, n) => Array.from(set).slice(0, n);\n  const t = pick(taste, 3);\n  const x = pick(texture, 2);\n  const m = pick(method, 1);\n  const joinOxford = arr => arr.length <= 2 ? arr.join(' and ') : `${arr[0]}, ${arr[1]} and ${arr[2]}`;\n  if (!t.length && !x.length && !m.length) return 'Comforting, flavourful homeâ€‘style dish';\n  const tPart = t.length ? joinOxford(t) : '';\n  const xPart = x.length ? joinOxford(x) : '';\n  const mPart = m.length ? m[0] : '';\n  if (tPart && xPart && mPart) return `${mPart} with ${tPart}; ${xPart} finish`;\n  if (tPart && xPart) return `${tPart}; ${xPart} finish`;\n  if (tPart && mPart) return `${mPart} and ${tPart}`;\n  if (xPart && mPart) return `${mPart} with a ${xPart} texture`;\n  return tPart || xPart || mPart;\n}\nexport default function RecipeCard({\n  recipe,\n  onChange,\n  onDelete,\n  onOpen\n}) {\n  _s();\n  var _process$env$REACT_AP, _recipe$owner, _recipe$owner2, _recipe$owner3;\n  const base = ((_process$env$REACT_AP = process.env.REACT_APP_API_URL) === null || _process$env$REACT_AP === void 0 ? void 0 : _process$env$REACT_AP.replace('/api', '')) || 'http://localhost:5000';\n  const [liked, setLiked] = useState(false);\n  const [likes, setLikes] = useState(recipe.likes || 0);\n  useEffect(() => {\n    try {\n      const raw = localStorage.getItem('user');\n      if (!raw) return setLiked(false);\n      const me = JSON.parse(raw);\n      const favs = me && (me.favorites || []);\n      setLiked(Array.isArray(favs) && favs.findIndex(f => f && f.toString() === (recipe._id || '').toString()) !== -1);\n    } catch (err) {\n      setLiked(false);\n    }\n  }, [recipe._id]);\n  const isOwner = (() => {\n    try {\n      const raw = localStorage.getItem('user');\n      if (!raw) return false;\n      const me = JSON.parse(raw);\n      const meId = me._id || me.id || me;\n      const ownerId = recipe.owner && (recipe.owner._id ? recipe.owner._id : recipe.owner);\n      return !!(meId && ownerId && meId.toString() === ownerId.toString());\n    } catch (err) {\n      return false;\n    }\n  })();\n  const toggleFav = async e => {\n    e && e.stopPropagation();\n    try {\n      const next = !liked;\n      setLiked(next);\n      setLikes(l => next ? l + 1 : Math.max(0, l - 1));\n      const res = await api.post(`/recipes/${recipe._id}/favorite`);\n      try {\n        const raw = localStorage.getItem('user');\n        if (raw) {\n          const me = JSON.parse(raw);\n          if (res && res.favorites) me.favorites = res.favorites;else {\n            me.favorites = me.favorites || [];\n            const idx = me.favorites.findIndex(f => f && f.toString() === recipe._id.toString());\n            if (next && idx === -1) me.favorites.push(recipe._id);\n            if (!next && idx !== -1) me.favorites.splice(idx, 1);\n          }\n          localStorage.setItem('user', JSON.stringify(me));\n        }\n      } catch (err) {}\n      onChange && onChange();\n    } catch (err) {\n      console.error('favorite failed', err);\n      setLiked(prev => !prev);\n      setLikes(l => Math.max(0, l + (liked ? 1 : -1)));\n      if (err.response && err.response.status === 401) alert('Please sign in to favorite recipes');\n    }\n  };\n  const openProfile = (id, e) => {\n    e && e.stopPropagation();\n    window.dispatchEvent(new CustomEvent('openProfileDrawer', {\n      detail: {\n        id\n      }\n    }));\n  };\n  const handleOpen = e => {\n    if (onOpen) onOpen(recipe);\n  };\n\n  // no inline dropdown here; header will show user dropdown\n\n  const shareRecipe = async e => {\n    e && e.stopPropagation();\n    try {\n      // record share on server\n      try {\n        await api.post(`/recipes/${recipe._id}/share`);\n      } catch (e) {/* non-blocking */}\n      const url = window.location.origin + `/recipe/${recipe._id}`;\n      const shareData = {\n        title: recipe.title,\n        text: shortDesc,\n        url\n      };\n      if (navigator.share) {\n        await navigator.share(shareData);\n      } else if (navigator.clipboard && navigator.clipboard.writeText) {\n        await navigator.clipboard.writeText(url);\n        alert('Recipe link copied to clipboard');\n      } else {\n        // fallback: create temporary input\n        const tmp = document.createElement('input');\n        document.body.appendChild(tmp);\n        tmp.value = url;\n        tmp.select();\n        document.execCommand('copy');\n        document.body.removeChild(tmp);\n        alert('Recipe link copied to clipboard');\n      }\n    } catch (err) {\n      console.error('share failed', err);\n      alert('Could not share the recipe');\n    }\n  };\n\n  // short description fallback\n  const shortDesc = recipe.summary || (recipe.ingredients || []).slice(0, 4).map(i => i.name).join(', ');\n  const taste = tasteFromRecipe(recipe);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"recipe-card card\",\n    onClick: handleOpen,\n    style: {\n      cursor: onOpen ? 'pointer' : 'default'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"rl-image\",\n      style: {\n        backgroundImage: `url(${recipe.imageUrl ? recipe.imageUrl.startsWith('http') ? recipe.imageUrl : base + recipe.imageUrl : ''})`\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rl-cal\",\n        children: [recipe.caloriesTotal && recipe.caloriesTotal > 0 ? recipe.caloriesTotal : estimateCalories(recipe), \" cal\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"rl-body\",\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: `/recipe/${recipe._id}`,\n        className: \"rl-title\",\n        onClick: e => {\n          e.stopPropagation();\n        },\n        children: recipe.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"rl-desc\",\n        children: taste\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 9\n      }, this), recipe.owner && recipe.owner.name ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"owner-inline\",\n        onClick: e => {\n          e.stopPropagation();\n          openProfile(recipe.owner._id || recipe.owner, e);\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"owner-inline-avatar\",\n          src: (_recipe$owner = recipe.owner) !== null && _recipe$owner !== void 0 && _recipe$owner.avatarUrl ? recipe.owner.avatarUrl.startsWith(\"http\") ? recipe.owner.avatarUrl : base + recipe.owner.avatarUrl : '/assets/avatar-placeholder.png',\n          alt: ((_recipe$owner2 = recipe.owner) === null || _recipe$owner2 === void 0 ? void 0 : _recipe$owner2.name) || 'author'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"owner-inline-name\",\n          children: (_recipe$owner3 = recipe.owner) === null || _recipe$owner3 === void 0 ? void 0 : _recipe$owner3.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 11\n      }, this) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rl-footer\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"rl-date\",\n          children: [recipe.caloriesTotal && recipe.caloriesTotal > 0 ? recipe.caloriesTotal : estimateCalories(recipe), \" kcal\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"rl-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: toggleFav,\n            title: \"Favorite\",\n            className: \"icon-btn\",\n            style: {\n              background: 'transparent',\n              border: 'none',\n              cursor: 'pointer',\n              fontSize: 16\n            },\n            children: [liked ? 'â¤ï¸' : 'ðŸ¤', \" \", likes > 0 ? likes : '']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: shareRecipe,\n            title: \"Share\",\n            className: \"icon-btn\",\n            style: {\n              background: 'transparent',\n              border: 'none',\n              cursor: 'pointer',\n              fontSize: 16,\n              marginLeft: 6\n            },\n            children: \"\\uD83D\\uDD17\\xA0Share\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 13\n          }, this), onDelete && isOwner && /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: e => {\n              e.stopPropagation();\n              if (window.confirm('Delete this recipe? This cannot be undone.')) {\n                onDelete(recipe._id);\n              }\n            },\n            title: \"Delete\",\n            className: \"icon-btn\",\n            style: {\n              marginLeft: 8\n            },\n            children: \"\\uD83D\\uDDD1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 181,\n    columnNumber: 5\n  }, this);\n}\n_s(RecipeCard, \"1eCkSmmKuqjV1smLdtNRnQc0z3Y=\");\n_c = RecipeCard;\nvar _c;\n$RefreshReg$(_c, \"RecipeCard\");","map":{"version":3,"names":["React","useEffect","useState","estimateCalories","Link","api","jsxDEV","_jsxDEV","tasteFromRecipe","r","title","String","toLowerCase","cuisine","desc","description","ings","Array","isArray","ingredients","map","x","taste","trim","hasWord","w","includes","some","i","Set","texture","method","add","has","pick","set","n","from","slice","t","m","joinOxford","arr","length","join","tPart","xPart","mPart","RecipeCard","recipe","onChange","onDelete","onOpen","_s","_process$env$REACT_AP","_recipe$owner","_recipe$owner2","_recipe$owner3","base","process","env","REACT_APP_API_URL","replace","liked","setLiked","likes","setLikes","raw","localStorage","getItem","me","JSON","parse","favs","favorites","findIndex","f","toString","_id","err","isOwner","meId","id","ownerId","owner","toggleFav","e","stopPropagation","next","l","Math","max","res","post","idx","push","splice","setItem","stringify","console","error","prev","response","status","alert","openProfile","window","dispatchEvent","CustomEvent","detail","handleOpen","shareRecipe","url","location","origin","shareData","text","shortDesc","navigator","share","clipboard","writeText","tmp","document","createElement","body","appendChild","value","select","execCommand","removeChild","summary","name","className","onClick","style","cursor","children","backgroundImage","imageUrl","startsWith","caloriesTotal","fileName","_jsxFileName","lineNumber","columnNumber","to","src","avatarUrl","alt","background","border","fontSize","marginLeft","confirm","_c","$RefreshReg$"],"sources":["/home/navgurukul/Recipe-upload/my-mern-app/client/src/components/RecipeCard.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport estimateCalories from '../services/calorieEstimator';\nimport { Link } from 'react-router-dom';\nimport api from '../services/api';\n\nfunction tasteFromRecipe(r = {}) {\n  const title = String(r.title || '').toLowerCase();\n  const cuisine = String(r.cuisine || '').toLowerCase();\n  const desc = String(r.description || '').toLowerCase();\n  const ings = Array.isArray(r.ingredients) ? r.ingredients.map(x => String(x).toLowerCase()) : [];\n\n  if (typeof r.taste === 'string' && r.taste.trim()) return r.taste.trim();\n\n  const hasWord = (w) => title.includes(w) || desc.includes(w) || ings.some(i => i.includes(w));\n  const taste = new Set();\n  const texture = new Set();\n  const method = new Set();\n\n  // Taste cues\n  if (hasWord('chilli') || hasWord('chili') || hasWord('pepper') || hasWord('garam masala') || hasWord('red chilli')) taste.add('spicy');\n  if (hasWord('tomato') || hasWord('lemon') || hasWord('lime') || hasWord('vinegar') || hasWord('tamarind') || hasWord('yogurt') || hasWord('curd')) taste.add('tangy');\n  if (hasWord('garlic')) taste.add('garlicky');\n  if (hasWord('basil') || hasWord('oregano') || hasWord('parsley') || hasWord('cilantro') || hasWord('coriander') || hasWord('mint')) taste.add('herby');\n  if (hasWord('soy sauce') || hasWord('mushroom') || hasWord('umami')) taste.add('umami-rich');\n  if (hasWord('butter') || hasWord('ghee') || hasWord('cream') || hasWord('milk') || hasWord('paneer') || hasWord('cheese')) taste.add('rich & creamy');\n  if (hasWord('honey') || hasWord('sweet') || hasWord('caramel')) taste.add('lightly sweet');\n  if (cuisine.includes('indian')) taste.add('aromatic');\n  if (cuisine.includes('italian')) taste.add('savory');\n\n  // Method cues\n  if (title.includes('stir-fry') || desc.includes('stir-fry')) method.add('stir-fried');\n  if (title.includes('grill') || desc.includes('grill')) method.add('grilled');\n  if (title.includes('roast') || desc.includes('roast')) method.add('roasted');\n  if (title.includes('bake') || desc.includes('bake')) method.add('baked');\n  if (title.includes('toast') || desc.includes('toast')) method.add('toasted');\n  if (title.includes('curry') || desc.includes('curry') || desc.includes('masala')) method.add('simmered');\n  if (title.includes('dal') || desc.includes('lentil')) method.add('slow-cooked');\n  if (title.includes('pasta') || desc.includes('pasta')) method.add('tossed');\n\n  // Texture cues\n  if (hasWord('potato') || hasWord('aloo')) texture.add('crispy edges');\n  if (hasWord('bread') || hasWord('toast')) texture.add('crisp bite');\n  if (hasWord('beans') || hasWord('capsicum') || hasWord('bell pepper')) texture.add('crispâ€‘tender veggies');\n  if (hasWord('chicken')) texture.add('juicy');\n  if (hasWord('paneer')) texture.add('soft & creamy');\n  if (hasWord('rice')) texture.add('fluffy');\n  if (hasWord('pasta') || hasWord('spaghetti')) texture.add('al dente');\n  if (method.has('simmered') || hasWord('gravy') || hasWord('sauce')) texture.add('saucy');\n\n  // Dish hints\n  if (title.includes('salad') || desc.includes('salad')) { taste.add('fresh'); texture.add('crisp'); }\n  if (title.includes('pulao') || desc.includes('pulao')) { taste.add('fragrant'); texture.add('fluffy'); }\n\n  // Build sentence\n  const pick = (set, n) => Array.from(set).slice(0, n);\n  const t = pick(taste, 3);\n  const x = pick(texture, 2);\n  const m = pick(method, 1);\n\n  const joinOxford = (arr) => arr.length <= 2 ? arr.join(' and ') : `${arr[0]}, ${arr[1]} and ${arr[2]}`;\n\n  if (!t.length && !x.length && !m.length) return 'Comforting, flavourful homeâ€‘style dish';\n\n  const tPart = t.length ? joinOxford(t) : '';\n  const xPart = x.length ? joinOxford(x) : '';\n  const mPart = m.length ? m[0] : '';\n\n  if (tPart && xPart && mPart) return `${mPart} with ${tPart}; ${xPart} finish`;\n  if (tPart && xPart) return `${tPart}; ${xPart} finish`;\n  if (tPart && mPart) return `${mPart} and ${tPart}`;\n  if (xPart && mPart) return `${mPart} with a ${xPart} texture`;\n  return tPart || xPart || mPart;\n}\n\nexport default function RecipeCard({ recipe, onChange, onDelete, onOpen }) {\n  const base = process.env.REACT_APP_API_URL?.replace('/api','') || 'http://localhost:5000';\n\n  const [liked, setLiked] = useState(false);\n  const [likes, setLikes] = useState(recipe.likes || 0);\n\n  useEffect(() => {\n    try {\n      const raw = localStorage.getItem('user');\n      if (!raw) return setLiked(false);\n      const me = JSON.parse(raw);\n      const favs = me && (me.favorites || []);\n      setLiked(Array.isArray(favs) && favs.findIndex(f => f && f.toString() === (recipe._id || '').toString()) !== -1);\n    } catch (err) {\n      setLiked(false);\n    }\n  }, [recipe._id]);\n\n  const isOwner = (() => {\n    try {\n      const raw = localStorage.getItem('user');\n      if (!raw) return false;\n      const me = JSON.parse(raw);\n      const meId = me._id || me.id || me;\n      const ownerId = recipe.owner && (recipe.owner._id ? recipe.owner._id : recipe.owner);\n      return !!(meId && ownerId && meId.toString() === ownerId.toString());\n    } catch (err) { return false; }\n  })();\n\n  const toggleFav = async (e) => {\n    e && e.stopPropagation();\n    try {\n      const next = !liked;\n      setLiked(next);\n      setLikes(l => next ? l + 1 : Math.max(0, l - 1));\n\n      const res = await api.post(`/recipes/${recipe._id}/favorite`);\n      try {\n        const raw = localStorage.getItem('user');\n        if (raw) {\n          const me = JSON.parse(raw);\n          if (res && res.favorites) me.favorites = res.favorites;\n          else {\n            me.favorites = me.favorites || [];\n            const idx = me.favorites.findIndex(f => f && f.toString() === recipe._id.toString());\n            if (next && idx === -1) me.favorites.push(recipe._id);\n            if (!next && idx !== -1) me.favorites.splice(idx, 1);\n          }\n          localStorage.setItem('user', JSON.stringify(me));\n        }\n      } catch (err) { }\n\n      onChange && onChange();\n    } catch (err) {\n      console.error('favorite failed', err);\n      setLiked(prev => !prev);\n      setLikes(l => Math.max(0, l + (liked ? 1 : -1)));\n      if (err.response && err.response.status === 401) alert('Please sign in to favorite recipes');\n    }\n  };\n\n  const openProfile = (id, e) => {\n    e && e.stopPropagation();\n    window.dispatchEvent(new CustomEvent('openProfileDrawer', { detail: { id } }));\n  };\n\n  const handleOpen = (e) => {\n    if (onOpen) onOpen(recipe);\n  };\n\n  // no inline dropdown here; header will show user dropdown\n\n  const shareRecipe = async (e) => {\n    e && e.stopPropagation();\n    try {\n      // record share on server\n      try { await api.post(`/recipes/${recipe._id}/share`); } catch (e) { /* non-blocking */ }\n\n      const url = window.location.origin + `/recipe/${recipe._id}`;\n      const shareData = { title: recipe.title, text: shortDesc, url };\n      if (navigator.share) {\n        await navigator.share(shareData);\n      } else if (navigator.clipboard && navigator.clipboard.writeText) {\n        await navigator.clipboard.writeText(url);\n        alert('Recipe link copied to clipboard');\n      } else {\n        // fallback: create temporary input\n        const tmp = document.createElement('input');\n        document.body.appendChild(tmp);\n        tmp.value = url;\n        tmp.select();\n        document.execCommand('copy');\n        document.body.removeChild(tmp);\n        alert('Recipe link copied to clipboard');\n      }\n    } catch (err) {\n      console.error('share failed', err);\n      alert('Could not share the recipe');\n    }\n  };\n\n  // short description fallback\n  const shortDesc = recipe.summary || ((recipe.ingredients || []).slice(0,4).map(i=>i.name).join(', '));\n  const taste = tasteFromRecipe(recipe);\n\n  return (\n    <div className=\"recipe-card card\" onClick={handleOpen} style={{ cursor: onOpen ? 'pointer' : 'default' }}>\n      <div className=\"rl-image\" style={{ backgroundImage: `url(${recipe.imageUrl ? (recipe.imageUrl.startsWith('http') ? recipe.imageUrl : base + recipe.imageUrl) : ''})` }}>\n        <div className=\"rl-cal\">{(recipe.caloriesTotal && recipe.caloriesTotal > 0 ? recipe.caloriesTotal : estimateCalories(recipe))} cal</div>\n  {/* overlay author removed; use inline owner badge below */}\n      </div>\n\n      <div className=\"rl-body\">\n        <Link to={`/recipe/${recipe._id}`} className=\"rl-title\" onClick={(e)=>{ e.stopPropagation(); }}>{recipe.title}</Link>\n        <p className=\"rl-desc\">{taste}</p>\n        {recipe.owner && recipe.owner.name ? (\n          <div className=\"owner-inline\" onClick={(e) => { e.stopPropagation(); openProfile(recipe.owner._id || recipe.owner, e); }}>\n            <img className=\"owner-inline-avatar\" src={recipe.owner?.avatarUrl ? (recipe.owner.avatarUrl.startsWith(\"http\") ? recipe.owner.avatarUrl : base + recipe.owner.avatarUrl) : '/assets/avatar-placeholder.png'} alt={recipe.owner?.name || 'author'} />\n            <span className=\"owner-inline-name\">{recipe.owner?.name}</span>\n          </div>\n        ) : null}\n\n        <div className=\"rl-footer\">\n          <div className=\"rl-date\">{(recipe.caloriesTotal && recipe.caloriesTotal > 0 ? recipe.caloriesTotal : estimateCalories(recipe))} kcal</div>\n          <div className=\"rl-actions\">\n            <button onClick={toggleFav} title=\"Favorite\" className=\"icon-btn\" style={{ background: 'transparent', border: 'none', cursor: 'pointer', fontSize: 16 }}>\n              {liked ? 'â¤ï¸' : 'ðŸ¤'} {likes > 0 ? likes : ''}\n            </button>\n            <button onClick={shareRecipe} title=\"Share\" className=\"icon-btn\" style={{ background: 'transparent', border: 'none', cursor: 'pointer', fontSize: 16, marginLeft: 6 }}>ðŸ”—&nbsp;Share</button>\n            {onDelete && isOwner && (\n              <button onClick={(e) => { e.stopPropagation(); if (window.confirm('Delete this recipe? This cannot be undone.')) { onDelete(recipe._id); } }} title=\"Delete\" className=\"icon-btn\" style={{ marginLeft: 8 }}>ðŸ—‘</button>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}